<config arch="" info="Linphone SIP Client">

	<common_routes>
		<service name="ROM" label_last="ld.lib.so"> <parent/> </service>
		<service name="ROM" label_last="init">      <parent/> </service>
		<service name="CPU">   <parent/> </service>
		<service name="PD">    <parent/> </service>
		<service name="LOG">   <parent/> </service>
		<service name="Timer"> <parent/> </service>
	</common_routes>

	<start name="linphone_loading_backdrop" pkg="cnuke/pkg/linphone_loading_backdrop/2023-11-08">
		<route>
			<service name="Gui"> <parent label="backdrop"/> </service>
		</route>
	</start>

	<start name="fonts_fs" pkg="fonts_fs">
		<route>
			<service name="ROM" label="config">
				<parent label="config -> managed/fonts"/> </service>
		</route>
	</start>

	<start name="sntp_dummy_rtc" pkg="sntp_dummy_rtc">
		<route>
			<service name="Nic"> <child name="nic_router"/> </service>
		</route>
	</start>

	<start name="gpu_drv" caps="2000" pkg="a64_lima_gpu_drv-pinephone">
		<affinity xpos="0" width="1"/>
		<route>
			<service name="Platform"> <parent label="gpu"/> </service>
		</route>
	</start>

	<start name="audio_drv" pkg="a64_audio_drv" priority="0" cpu="40">
		<resource name="CPU" quantum="40"/>
		<affinity xpos="0" ypos="0" width="1" height="1"/>
		<route>
			<service name="Platform"> <parent label="audio_drv"/> </service>
		</route>
	</start>

	<start name="black_hole" pkg="black_hole">
		<config> <audio_in/> <audio_out/> <capture/> <report/> </config>
	</start>

	<start name="touch_keyboard" pkg="touch_keyboard">
		<route>
			<service name="Gui"> <parent label="touch_keyboard"/> </service>
			<service name="Event"> <parent label="global"/> </service>
			<service name="File_system" label="fonts"> <child name="fonts_fs"/> </service>
		</route>
	</start>

	<start name="mesa_gpu-lima" pkg="mesa_gpu-lima">
		<route> <service name="RM"> <parent/> </service> </route>
	</start>

	<start name="terminal_crosslink" pkg="terminal_crosslink" priority="-2">
		<route/>
	</start>

	<start name="linphone_gui" pkg="cnuke/pkg/linphone-simple/2023-11-08">
		<route>
			<service name="Gui"> <parent label="focus"/> </service>
			<service name="RM"> <parent/> </service>
			<service name="Gpu"> <child name="gpu_drv"/> </service>
			<service name="ROM" label="mesa_gpu_drv.lib.so">
				<child name="mesa_gpu-lima"/>
			</service>
			<service name="Terminal"> <child name="terminal_crosslink"/> </service>
			<service name="File_system"> <child name="linphone_recall_fs"/> </service>
		</route>
	</start>

	<start name="linphone_recall_fs" pkg="chroot">
		<route>
			<service name="File_system"> <child name="default_fs_rw"/> </service>
		</route>
		<config> <default-policy path="/recall/linphone" writeable="yes"/> </config>
	</start>

	<start name="linphone_daemon" pkg="cnuke/pkg/linphonec_daemon/2023-11-08">
		<route>
			<service name="Nic"> <child name="nic_router"/> </service>
			<service name="Audio_in"> <child name="audio_drv"/> </service>
			<service name="Audio_out"> <child name="audio_drv"/> </service>
			<service name="Terminal"> <child name="terminal_crosslink"/> </service>
			<service name="Rtc"> <child name="sntp_dummy_rtc"/> </service>
			<service name="File_system"> <child name="linphone_recall_fs"/> </service>
			<service name="RM"> <parent/> </service>
		</route>
	</start>

</config>
